/**
 * lab6_template.c
 *
 * Template file for CprE 288 Lab 6
 *
 * @author Diane Rover, 2/15/2020
 *
 */

#include "Timer.h"
#include "lcd.h"
#include "cyBot_Scan.h"  // For scan sensors
#include "uart-interrupt.h"

// Uncomment or add any include directives that are needed
#include "open_interface.h"
// #include "movement.h"
// #include "button.h"

#define MAX_IR_DIST 80

void checkpoint1(void);
float multiScanIR(int angle, int numScans);

void calibrateServos(void);

int main(void) {
    calibrateServos();

}

void checkpoint1(void){
    timer_init();
    lcd_init();
    uart_interrupt_init();
    cyBOT_init_Scan(0b0111);
    right_calibration_value = 253750;
    left_calibration_value = 1225000;

    oi_t *sensor_data = oi_alloc(); // do this only once at start of main()
    oi_init(sensor_data); // do this only once at start of main()



    oi_free(sensor_data);
}

float multiScanIR(int angle, int numScans){

    float scanSum = 0.0;
    cyBOT_Scan_t scan;

    int i;
    for(i = 0; i < numScans; i++){

    }
}

void calibrateServos(void){

    timer_init();
    lcd_init();

    cyBOT_init_Scan(0b0111);
    cyBOT_SERVO_cal();

}

/*Cybot2:
 * Right(0): 253750
 * Left(180): 1225000
 *
 */
